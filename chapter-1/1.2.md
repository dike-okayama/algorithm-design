# 1.2 五つの代表的な問題

## introduction

多くの問題において, アルゴリズム設計のプロセスは以下のいくつかの重要なステップから構成される.

1. 数学的に定式化する
1. アルゴリズムを設計する
1. アルゴリズムの正当性を証明と効率性を確立

### _Def_ (グラフ)

> 点(node)の集合 $V$ と 2 点を結ぶ辺(edge)の集合 $E$ の順序対 $G = (V, E)$
> をグラフと呼ぶ.

## 問題 1.2 区間スケジューリング(Interval Scheduling)

各時刻で高々一人しか利用できない資源に対して, 時刻 $s$ から時刻 $f$ まで資源を使用したい要求が複数ある. そのような要求が勝ち亜あわないようにできるだけ多くの要求を許可したい.

#### e.g. シャワールームやトレーニングルームの使用

区間スケジューリング問題(Interval Scheduling Problem)は以下のように定式化される.

### 区間スケジューリング問題

> 入力: $(s_1, f_1),...,(s_n, f_n)$ ; $(s_i, f_i)$ : 要求, $s_i < j_i,\ \ i = 1,...,n$  
> 出力: サイズが最大の共存可能な部分集合

#### Rem: 正しくは, $(s_i, f_i)$ は要求 $i$ に付随する開始時刻と終了時刻であるが, $(s_i, f_i)$ を 要求 $i$ と同一視して, 単純に $(s_i, f_i)$ と表すことにする. 以降も同様.

### _Def_ (共存可能)

> 二つの要求 $i$ と $j$ が共存可能であるとは, $f_i \leq s_j$ または $f_j \leq s_i$ であること.  
> また, 要求の部分集合 $A$ について,${}^\forall i, j \in A$ が共存可能であるとき, $A$ は共存可能であると言う.

この問題は要求集合をあるヒューリスティックに基づいて並べ, 貪欲に処理していくことで解くことができる. このアルゴリズムはグリーディアルゴリズム(greedy algorithm, 貪欲法)と呼ばれるアルゴリズムの典型例である.

## 問題 1.3 重み付き区間スケジューリング(Weighted Interval Scheduling)

区間スケジューリング問題では共存可能な要求の個数を最大化することが目的だった. 対して, 重み付き区間スケジューリング問題では, 各要求 $i$ に $v_i > 0$ の価値あるいは重みが付随しており, その合計を最大化することを考える. 特に, 全ての区間の勝ちが等しいとき, 区間スケジューリング問題と同値である.

重み付き区間スケジューリング問題(Weighted Interval Scheduling Problem)は以下のように定式化される

### 重み付き区間スケジューリング

> 入力: $(s_1, f_1, v_1),...,(s_n, f_n, v_n)$ : 要求, $s_i < j_i, v_i > 0,\ \ i = 1,...,n$  
> 出力: $\Sigma_{i \in A} v_i$が最大となる共存可能な要求部分集合 $A$

この問題は貪欲法では解くことができず, 動的計画法(dynamic programming)を用いて解決される.

## 問題 1.4 二部グラフのマッチング(Bipartite Matching)

### _Def_ (二部グラフ)

> $G = (V, E)$ : グラフ  
> $V$ が $v_1$ と $v_2$ に分割され, $E \subseteq V_1 \times V_2$ であるとき, G を 二部グラフと呼び, $G = (V_1, V_2, E)$ とかく.

男女の集合を $V$ の分割とみると, 対応するグラフ $G = (V, E)$ が 二部グラフとなる.
各点が $M$ の高々一個の辺に含まれるような辺の部分集合 $M \subseteq E$ が $G$ のマッチングである. さらに, 各点がちょうど一個の辺に含まれるとき, M は完全マッチングである.

二部グラフのマッチング問題(Bipartite Matching Problem)は以下のように定式化される.

### 二部グラフのマッチング問題

> 入力: $G = (X, Y, E)$ : 二部グラフ  
> 出力: サイズが最大のマッチング

$|X| = |Y| = n$ のとき, サイズ $n$ の完全マッチングが一意に存在する.  
この問題は, 増加操作(argumentation)と呼ばれる, 部分的にバックトラックしながら反復を繰り返して, マッチングのサイズを次第に大きくしていく方法で解くことができる. これは, ネットワークフロー問題(network flow problem)と呼ばれる, より大きなクラスの問題を効率的に解くための中心的な構成要素になっている.

## 1.5 独立集合(Independent Set)

### _Def_ (独立集合)

> $G = (V, E)$ : グラフ  
> $S \subseteq V$ について, ${}^\forall u,v \in S: (u, v) \notin E$ であるとき, $S$ は独立集合(independent set)あるいは独立(independent)であるという.

独立集合問題(Independent Set Problem)は以下のように定式化される.

### 独立集合問題

> 入力: $G = (V, E)$ : グラフ上  
> 出力: 最大の $G$ の独立集合

独立集合問題は, ある対象物の集合とそれらの対象物のいくつかの対に互いに競合(conflict)があるとき, その中から競合のない必要なものを選ぶ問題などを符号化した問題とであると言える.

#### e.g. ディナーの招待で仲の悪い人をバッティングさせないようにする

区間スケジューリング問題と二部グラフマッチング問題は, 独立集合問題の特殊な場合である.  
区間スケジューリングでは, 区間を点として, 交差する区間に対応する二点間に辺を持つとすると, $G = (V, E)$ が定義される.  
二部グラフマッチングでは, 二部グラフ $G' = (V', E')$ に対して, $E'$ の辺を点と見る. そこで, 端点を共有する辺に対応する二点間に辺を持つとすると, グラフが定義される.  
これらのグラフはともに競合グラフと呼ばれることもある.

この問題は **NP**-完全(NP-complete)と呼ばれる問題のクラスに属する問題の一つである. このクラウ s の問題に対しては どの問題に対しても効率的なアルゴリズムが知られていない.

グラフ $G = (V, E)$ に対して, $V$ の部分集合 $S$ が独立であるかどうかを調べるのは容易である. 検証(check)することと求める(find)ことの間には, 計算困難性の観点から大きな違いがあることがわかる. 次の問題は, 検証することも困難な例である.

## 問題 1.6 競争的施設配置(Competitive Facility Location)

以下のような状況を考える. 二つのコンビニ大手 L 社と F 社がある地域に店舗を出店するとする. 地域は, n 個に分割されている. それらに $1,2,...,n$ のラベルが付けられている. 各地域 $i$ に対して, 出店した際の利益 $b_i$ が付随している. 会社にかかわらず, 同時には出店できないような隣接する(adjacent)二つの区域 $(i, j)$ の対がいくつか存在する. 区域の集合を $V$ とし, 二つの区域 $i$ と $j$ が隣接するときに辺 $(i, j)$を加えてできる集合を $E$ とすると, グラフ $G = (V, E)$ とモデル化できる.  
したがって, 二人のプレーヤー $P_1$ , $P_2$ が交互に $G$ の点を選んでいくことになる. 最初に $P_1$ が $G$ の点をえらぶ. 全ての時点で, 選ばれた点の集合は G の独立集合になる. ここで, プレーヤー $P_2$ は価値 $B$ を達成目標としているものとする. このとき, $P_1$ がどのようにプレーしようとも, $P_2$ が 目標お達成する戦略が存在するかを知りたい. これが競争的施設配置問題(Competitive Facility Location Problem)のインスタンスである.

![問題のインスタンス](./CFLP.jpeg)
競争的施設配置問題のインスタンス

競争的施設配置問題(Competitive Facility Location Problem)は以下のように定式化される.

### 競争的施設配置問題

> 入力: $G = (V, E)$ : グラフ, 各$v_i$ に付随する $b_i$, $B$ : 達成目標  
> 出力: Yes/No

この問題は, 必勝戦略を持つことを理解することも難しい. この問題は**PSPACE**-完全問題(PSPACE-complete problem)と呼ばれる問題のクラスの問題である. **PSPACE**-完全問題は**NP**-完全問題より真に計算困難問題であると信じられている.
